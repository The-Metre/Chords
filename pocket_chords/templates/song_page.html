{% extends 'base.html' %}

{% block table %}
       <!--  <button onclick="rep()">Replace</button> 
            TODO: convert all text chunks that framed in curly brakets 
            into chords from the chord model in song_text div    
    -->
        <div class="song_text">
            {% include 'partials/song_text_detail.html' %}
        </div>

        <di class="song_list_of_chunks">
            <p>Create chunk for {{ song.name }}</p>
            <button hx-get="{% url 'chunk_form' %}" hx-swap="beforeend" hx-target="#chunkform"> + Chunk </button>
            <table id="id_song_table" class="table">
                {% for chunk in song_chunks %}
                <tr>
                    <td>
                        {% include 'partials/chunk_detail.html' %}
    
                        {% if error %}
                            {{ error }}
                        {% endif %}
                    </td>
                </tr>
                {% endfor %}
            </table>
    
            <div id="chunkform"></div>
        </div>
        

        

{% endblock %}

{% block page_scripts %}
    <script src="https://unpkg.com/htmx.org@1.8.6"></script>
    <script src="/static/song_page.js"></script>
{% endblock %}